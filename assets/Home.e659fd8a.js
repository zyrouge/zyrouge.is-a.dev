import{d as k,z as w,m,A as R,n as B,r as C,o as a,e as n,f as e,B as M,C as S,u as l,F as v,h as g,i as f,g as D,w as d,t as u}from"./vendor.b6bd7c7d.js";import{A as U,_ as H,s as L}from"./Loader.09ba0b77.js";import{R as $}from"./index.0e7159de.js";import{S as r,U as F,b as T}from"./utils.0c8c74b8.js";import{M as V}from"./Message.fd70e1d5.js";const j=e("hr",null,null,-1),N={class:"u-container u-container-h"},Z={class:"u-flex !justify-between"},z=e("p",{class:"text-lg"},"Recent Articles",-1),E=["disabled"],O=["value"],P={key:0,class:"u-flex py-10 min-h-[50vh]"},q={key:1},G=e("p",null,"500",-1),I=e("p",null," Unfortunately, couldn't fetch all the articles. ",-1),J={key:1,class:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"text-xs text-primary-500 group-hover:text-white pb-0.5"},Q=["innerHTML"],W={class:"text-xs group-hover:text-white text-secondary-400"},ae=k({setup(X){w({title:T.getTitle("Articles")});const i=m(r.processing),c=m([]),h=async()=>{try{i.value=r.processing,c.value=await U.getAllArticles(),i.value=r.done}catch{i.value=r.failed}},p=["Recent (Ascending)","Recent (Descending)","A-Z (Ascending)","A-Z (Descending)"],_=m(p[0]),y=R(()=>[()=>c.value.sort((t,s)=>t.time-s.time),()=>c.value.sort((t,s)=>s.time-t.time),()=>c.value.sort((t,s)=>t.title.localeCompare(s.title)),()=>c.value.sort((t,s)=>s.title.localeCompare(t.title))][p.indexOf(_.value)]()),x=t=>`${$.articlesRead}/${t}`;return B(h),(t,s)=>{const A=C("router-link");return a(),n("div",null,[j,e("div",N,[e("div",Z,[z,M(e("select",{class:"bg-secondary-900 px-1 outline-none","onUpdate:modelValue":s[0]||(s[0]=o=>_.value=o),disabled:i.value!==l(r).done},[(a(!0),n(v,null,g(l(p),o=>(a(),n("option",{value:o},u(o),9,O))),256))],8,E),[[S,_.value]])]),i.value!==l(r).done?(a(),n("div",P,[i.value===l(r).processing?(a(),f(H,{key:0})):(a(),n("div",q,[D(V,null,{header:d(()=>[G]),body:d(()=>[I]),footer:d(()=>[e("button",{class:"text-primary-500 hover:text-secondary-500",onClick:h}," \u{1F504} Retry ")]),_:1})]))])):(a(),n("div",J,[(a(!0),n(v,null,g(l(y),o=>(a(),f(A,{class:"group bg-secondary-900 hover:bg-primary-500 px-4 py-2",to:x(o.slug)},{default:d(()=>[e("p",K,u(l(L).Date.relative(new Date(o.time))),1),e("p",null,u(o.title),1),e("p",{class:"text-sm text-secondary-400 group-hover:text-white pb-0.5",innerHTML:l(F).getSafeHtml(o.description)},null,8,Q),e("p",W,u(o.tags.map(b=>`#${b}`).join(" ")),1)]),_:2},1032,["to"]))),256))]))])])}}});export{ae as default};
