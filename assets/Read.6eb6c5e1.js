import{s as g,_ as M,A as D}from"./Loader.ad604ebb.js";import{r as S,R as C}from"./index.147a38f3.js";import{b as H,S as o,U as T}from"./utils.0c8c74b8.js";import{d as U,l as h,D as B,x as L,y as _,E as N,m as R,n as V,r as j,o as s,e as u,f as e,u as a,i as v,w as n,t as d,q as F,g as $,j as E}from"./vendor.ad234c88.js";import{M as x}from"./Message.af33293c.js";const q=e("hr",null,null,-1),G={class:"u-container u-container-h"},I={key:0,class:"u-flex py-10 min-h-[50vh]"},P={key:1},z=e("p",null,"404",-1),J=e("p",null," I know you could read, but this isn't the place for it. ",-1),K=E("\u{1F449} Go to articles"),O=e("p",null,"500",-1),Q=e("p",null,"Unfortunately, couldn't fetch the article.",-1),W={key:1},X={class:"mb-3"},Y={class:"text-3xl font-bold mb-1"},Z={class:"mb-1"},ee={class:"text-sm mb-1 text-secondary-400"},te={class:"text-xs text-primary-500"},ae={key:0},se=e("hr",{class:"mb-8"},null,-1),oe=["innerHTML"],de=U({setup(ne){const l=h("Loading..."),m=B([]);L({title:_(()=>H.getTitle(`${l.value} | Article`)),meta:m});const c=N(),r=h(o.processing),t=h(null),k=_(()=>r.value===o.failed&&l.value==="404"),y=_(()=>t.value?g.Date.relative(new Date(t.value.meta.writtenAt)):null),p=_(()=>{var i;return(i=t.value)!=null&&i.meta.updatedAt?g.Date.relative(new Date(t.value.meta.updatedAt)):null}),f=async()=>{l.value="Loading...";const i=typeof c.params.slug=="string"?c.params.slug:Array.isArray(c.params.slug)&&c.params.slug.length===1?c.params.slug[0]:null;if(!i){r.value=o.failed,l.value="404";return}try{t.value=await D.getArticleFromSlug(i),r.value=o.done,l.value=t.value.meta.title,m.push({name:"description",content:t.value.meta.description},{name:"keywords",content:t.value.meta.tags.join(", ")})}catch{r.value=o.failed,l.value="500"}};return R(f),V(()=>{S(m)}),(i,A)=>{const b=j("router-link");return s(),u("div",null,[q,e("div",G,[r.value!==a(o).done||!t.value?(s(),u("div",I,[r.value===a(o).processing?(s(),v(M,{key:0})):(s(),u("div",P,[a(k)?(s(),v(x,{key:0},{header:n(()=>[z]),body:n(()=>[J]),footer:n(()=>[$(b,{class:"text-primary-500 hover:text-secondary-500",to:a(C).articles},{default:n(()=>[K]),_:1},8,["to"])]),_:1})):(s(),v(x,{key:1},{header:n(()=>[O]),body:n(()=>[Q]),footer:n(()=>[e("button",{class:"text-primary-500 hover:text-secondary-500",onClick:f}," \u{1F504} Retry ")]),_:1}))]))])):(s(),u("div",W,[e("div",X,[e("p",Y,d(t.value.meta.title),1),e("p",Z,d(t.value.meta.description),1),e("p",ee,d(t.value.meta.tags.map(w=>`#${w}`).join(" ")),1),e("p",te,[e("span",null,d(a(y)),1),a(p)&&a(y)!==a(p)?(s(),u("span",ae," ("+d(a(p))+") ",1)):F("",!0)])]),se,e("div",{class:"u-stylify",innerHTML:a(T).getSafeHtml(t.value.content)},null,8,oe)]))])])}}});export{de as default};
