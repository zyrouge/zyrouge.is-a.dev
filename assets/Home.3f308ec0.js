import{d as b,y as k,m,z as D,n as R,r as S,o as a,e as n,f as e,A as B,B as M,u as l,F as g,h as v,i as f,g as T,w as d,t as u}from"./vendor.361979ef.js";import{S as i,A as C,_ as U,s as H}from"./Loader.f6cf717b.js";import{R as L}from"./index.d2201d61.js";import{U as $,a as j}from"./utils.361ba04a.js";import{M as F}from"./Message.2f0fe8fb.js";const V=e("hr",null,null,-1),N={class:"u-container u-container-h"},Z={class:"flex flex-col sm:flex-row justify-between"},z=e("p",{class:"text-lg pb-1 sm:pb-0"},"Recent Articles",-1),E={class:"u-flex !justify-start"},O=e("p",{class:"mr-2 sm:hidden text-secondary-500"},"Sort by:",-1),P=["disabled"],q=["value"],G={key:0,class:"u-flex py-10 min-h-[50vh]"},I={key:1},J=e("p",null,"500",-1),K=e("p",null," Unfortunately, couldn't fetch all the articles. ",-1),Q={key:1,class:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"text-xs text-primary-500 group-hover:text-white pb-0.5"},X=["innerHTML"],Y={class:"text-xs group-hover:text-white text-secondary-400"},le=b({setup(ee){k({title:j.getTitle("Articles")});const r=m(i.processing),c=m([]),h=async()=>{try{r.value=i.processing,c.value=await C.getAllArticles(),r.value=i.done}catch{r.value=i.failed}},p=["Recent (Ascending)","Recent (Descending)","A-Z (Ascending)","A-Z (Descending)"],_=m(p[0]),y=D(()=>[()=>c.value.sort((t,s)=>new Date(t.time).getTime()-new Date(s.time).getTime()),()=>c.value.sort((t,s)=>new Date(s.time).getTime()-new Date(t.time).getTime()),()=>c.value.sort((t,s)=>t.title.localeCompare(s.title)),()=>c.value.sort((t,s)=>s.title.localeCompare(t.title))][p.indexOf(_.value)]()),x=t=>`${L.articlesRead}/${t}`;return R(h),(t,s)=>{const w=S("router-link");return a(),n("div",null,[V,e("div",N,[e("div",Z,[z,e("div",E,[O,B(e("select",{class:"bg-secondary-900 px-1 outline-none","onUpdate:modelValue":s[0]||(s[0]=o=>_.value=o),disabled:r.value!==l(i).done},[(a(!0),n(g,null,v(l(p),o=>(a(),n("option",{value:o},u(o),9,q))),256))],8,P),[[M,_.value]])])]),r.value!==l(i).done?(a(),n("div",G,[r.value===l(i).processing?(a(),f(U,{key:0})):(a(),n("div",I,[T(F,null,{header:d(()=>[J]),body:d(()=>[K]),footer:d(()=>[e("button",{class:"text-primary-500 hover:text-secondary-500",onClick:h}," \u{1F504} Retry ")]),_:1})]))])):(a(),n("div",Q,[(a(!0),n(g,null,v(l(y),o=>(a(),f(w,{class:"group bg-secondary-900 hover:bg-primary-500 px-4 py-2",to:x(o.slug)},{default:d(()=>[e("p",W,u(l(H).Date.relative(new Date(o.time))),1),e("p",null,u(o.title),1),e("p",{class:"text-sm text-secondary-400 group-hover:text-white pb-0.5",innerHTML:l($).getSafeHtml(o.description)},null,8,X),e("p",Y,u(o.tags.map(A=>`#${A}`).join(" ")),1)]),_:2},1032,["to"]))),256))]))])])}}});export{le as default};
