import{d as k,x as R,l as v,y as C,m as M,r as S,o as a,e as l,f as s,z as B,A as U,u as n,F as y,h as f,i as A,g as D,w as u,t as p}from"./vendor.ad234c88.js";import{A as H,_ as L,s as $}from"./Loader.ad604ebb.js";import{R as F}from"./index.147a38f3.js";import{S as r,U as T,b as V}from"./utils.0c8c74b8.js";import{M as j}from"./Message.af33293c.js";const N=s("hr",null,null,-1),z={class:"u-container u-container-h"},E={class:"u-flex !justify-between"},O=s("p",{class:"text-lg"},"Recent Articles",-1),P=["disabled"],q=["value"],G={key:0,class:"u-flex py-10 min-h-[50vh]"},I={key:1},J=s("p",null,"500",-1),K=s("p",null," Unfortunately, couldn't fetch all the articles. ",-1),Q={key:1,class:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"text-xs text-primary-500 group-hover:text-white pb-0.5"},X=["innerHTML"],Y={class:"text-xs group-hover:text-white text-secondary-400"},lt=k({setup(Z){R({title:V.getTitle("Articles")});const i=v(r.processing),c=v([]),m=async()=>{try{i.value=r.processing,c.value=await H.getAllArticles(),i.value=r.done}catch{i.value=r.failed}},_=["Recently Created","Recently Updated","Ascending","Descending"],h=v(_[0]),x=C(()=>[()=>c.value.sort((e,o)=>e.writtenAt-o.writtenAt),()=>c.value.sort((e,o)=>{var d,t;return((d=e.updatedAt)!=null?d:e.writtenAt)-((t=o.updatedAt)!=null?t:o.writtenAt)}),()=>c.value.sort((e,o)=>e.title.localeCompare(o.title)),()=>c.value.sort((e,o)=>o.title.localeCompare(e.title))][_.indexOf(h.value)]()),w=e=>`${F.articlesRead}/${e}`;return M(m),(e,o)=>{const d=S("router-link");return a(),l("div",null,[N,s("div",z,[s("div",E,[O,B(s("select",{class:"bg-secondary-900 px-1 outline-none","onUpdate:modelValue":o[0]||(o[0]=t=>h.value=t),disabled:i.value!==n(r).done},[(a(!0),l(y,null,f(n(_),t=>(a(),l("option",{value:t},p(t),9,q))),256))],8,P),[[U,h.value]])]),i.value!==n(r).done?(a(),l("div",G,[i.value===n(r).processing?(a(),A(L,{key:0})):(a(),l("div",I,[D(j,null,{header:u(()=>[J]),body:u(()=>[K]),footer:u(()=>[s("button",{class:"text-primary-500 hover:text-secondary-500",onClick:m}," \u{1F504} Retry ")]),_:1})]))])):(a(),l("div",Q,[(a(!0),l(y,null,f(n(x),t=>(a(),A(d,{class:"group bg-secondary-900 hover:bg-primary-500 px-4 py-2",to:w(t.slug)},{default:u(()=>{var g;return[s("p",W,p(n($).Date.relative(new Date((g=t.updatedAt)!=null?g:t.writtenAt))),1),s("p",null,p(t.title),1),s("p",{class:"text-sm text-secondary-400 group-hover:text-white pb-0.5",innerHTML:n(T).getSafeHtml(t.description)},null,8,X),s("p",Y,p(t.tags.map(b=>`#${b}`).join(" ")),1)]}),_:2},1032,["to"]))),256))]))])])}}});export{lt as default};
